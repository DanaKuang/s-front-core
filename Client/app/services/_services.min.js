/**
 * Author: liubin
 * Create Date: 2017-06-27
 * Description: service
 */

define([
  'services/build.service.js',
  'services/api.service.js',
  'services/mark.service.js',
  'services/menu.service.js',
  'services/alert.service.js',
  'services/route.service.js',
  'services/ngview.service.js',
  'services/request.service.js',
  'services/weektime.service.js',
  'services/interceptor.service.js',
  'services/dynamicroute.service.js',
  'services/authorization.service.js'
], function () {
  console.log('service intercepting...');
  // 注入http拦截器
  var sm = angular
    .module('tztx.saas.sm', ['ng', 'angularFileUpload'])
    .config(['$httpProvider', function ($httpProvider) {
      // 注入httpInterceptors服务
      $httpProvider.interceptors.push('httpInterceptor');
    }]);

    // 动态注入
    var build = Array.prototype.shift.call(arguments, arguments).done(sm, arguments);
    return sm;
});