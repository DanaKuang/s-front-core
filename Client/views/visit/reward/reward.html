<!--
/**
 * Author: liubin
 * Create Date: 2017-04-28
 * Description: 重构
 */
-->
<link rel="stylesheet" href="statics/assets/style/visit.reward.css"/>
<div ng-controller="rewardCtrl">
    <div class="animated fadeInRightBig">
        <div class="container-fluid" id="content-reward">
            <div class="row ui-panel-reward">
                <div class="col-md-12">
                    <!--title-->
                    <div class="ui-panel-title reward">
                        <i class="reward"></i><span>零售户激励设置</span>
                    </div>
                    <!--box-->
                    <div class="panel rate">
                        <div class="panel-body">
                            <form action="" class="form-horizontal">
                                <div class="title col-md-12">客户返现设置</div>
                                <div class="col-md-12">
                                    <label class="control-label col-md-3">客户返现比例：</label>
                                    <div class="col-md-4 form-inline">
                                        <input type="text" id="moneyPer" class="money form-control input-sm"  value="{{select.seller_reward_percent*100}}">%
                                    </div>
                                </div>
                                <div class="line col-md-12"></div>
                                <div class="title col-md-12">零售户二维码打印设置</div>
                                <div class="col-md-12">
                                    <label class="control-label col-md-3">二维码打印费：</label>
                                    <div class="col-md-4">
                                        <input type="text" id="copyMoney" placeholder="请输入金额" value="{{select.qr.qrExpenses}}" class="form-control input-sm">
                                    </div>
                                </div>
                                <div class="title col-md-12">含运费和税费</div>
                                <div class="col-md-12">
                                    <label class="control-label col-md-3">是否免费:</label>
                                    <div class="col-md-4 form-inline">
                                        <div class="openButton1 col-md-4" ng-click="qrFreeSwitch()" ng-mouseover="mouser()">当前开启</div>
                                        <div class="help-block">&nbsp;&nbsp;注:点击按钮可改变开关状态</div>
                                    </div>
                                </div>
                                <div class="numble col-md-12">
                                    <label class="control-label col-md-3">免费数量：</label>
                                    <div class="col-md-4">
                                        <input type="text" id="free-numble" placeholder="请输入数量" value="{{select.qr.qrFreeNum}}" class="form-control input-sm">
                                    </div>
                                </div>
                                <div class="line col-md-12"></div>
                                <div class="title col-md-12">店铺-消费者关联有效时间设置</div>
                                <div class="spaceTime">
                                    <label class="control-label col-md-3">有效时间:</label>
                                    <div class="col-md-4 form-inline">
                                        <input type="text" id="time-space" value="{{select.consumer_seller_threshold}}" class="form-control input-sm">分钟
                                    </div>
                                </div>
                                <div class="line col-md-12"></div>
                                <div class="title col-md-12">客户活动介绍</div>
                                <div class="col-md-offset-3 col-md-4">
                                    <textarea name="" id="textintro" cols="30" rows="10" class="form-control">{{select.ac.introduction}}</textarea>
                                </div>
                                <div class="col-md-12 save-div">
                                    <button type="button" class="save btn btn-primary" id ="saveAllBut">保存更改</button>
                                </div>
                            </form>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <div sa-modal conf="tempModalConf">
            123232
        </div>


    </div>
    <script>
        function isInteger(obj) {
            return obj%1 === 0
        }
//        $("#moneyPer").blur(function(){
//            var value=$(this).val();
//            var flag=isNaN(value)?true:false;
//            if(flag==true){
//                $(this).val("请您输入正确的百分比").css("color","red");
//            }else{
//                var isIntegerFlag = isInteger(value);
//                if(!isIntegerFlag || value>100 || value<0){
//                    $(this).val("请您输入0-100之间的整数").css("color","red");
//                }else{
//                    $(this).css("color","#000");
//                }
//            }
//        });
//        $("#copyMoney").change(function(){
//            var value=$(this).val();
//            var flag=isNaN(value)?true:false;
//            if(flag==true){
//                $(this).val("您请输入正确的金额").css("color","red");
//
//            } else {
//                $(this).css("color","#000");
//            }
//        });
//        $("#free-numble").change(function(){
//            var value=$(this).val();
//            var flag=isNaN(value)?true:false;
//            if(flag==true){
//                $(this).val("您请输入正确的数量").css("color","red");
//
//            } else {
//                $(this).css("color","#000");
//            }
//        });
//        $("#time-space").change(function(){
//            var value=$(this).val();
//            var flag=isNaN(value)?true:false;
//            if(flag==true){
//                $(this).val("您请输入正确的时间间隔").css("color","red");
//            } else {
//                $(this).css("color","#000");
//            }
//        });
        function getLocalTime(nS) {
            return new Date(parseInt(nS)).toLocaleString().replace(/:\d{1,4}$/,' ');
        }

    </script>
</div>
